<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced AQI Dashboard</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self' data: http: https:;
    img-src 'self' data: http: https:;
    media-src 'self' data: http: https:;
    connect-src 'self' http://localhost:5000 https://api.openweathermap.org;
  ">
  <style>
    body { margin: 0; font-family: Arial, sans-serif; background:#f4f6f9; color:#333; display:flex; flex-direction:column; height:100vh; }
    header { background:#2c3e50; color:white; padding:15px 20px; text-align:center; font-size:1.3rem; font-weight:bold; }
    main { flex:1; display:flex; flex-direction:row; overflow:hidden; }
    #map { flex:2; height:100%; }
    .info-panel { flex:1; background:#fff; border-left:1px solid #ddd; padding:20px; display:flex; flex-direction:column; justify-content:flex-start; overflow-y:auto; }
    .card { border-radius:12px; padding:15px; margin-bottom:15px; box-shadow:0 2px 6px rgba(0,0,0,0.1); transition:0.3s; color:white; }
    .card.good { background:#2ecc71; }
    .card.moderate { background:#f1c40f; color:black; }
    .card.usg { background:#e67e22; }
    .card.unhealthy { background:#e74c3c; }
    .card.vunhealthy { background:#8e44ad; }
    .card.hazardous { background:#7f1d1d; }
    .aqi-value { font-size:2rem; font-weight:bold; }
    .category { font-size:1.1rem; font-weight:600; }
    .legend { display:grid; grid-template-columns:20px auto; gap:8px; align-items:center; margin-top:10px; }
    .legend div { height:18px; border-radius:4px; }
    .loader { border:4px solid #f3f3f3; border-top:4px solid #3498db; border-radius:50%; width:32px; height:32px; animation:spin 1s linear infinite; margin:20px auto; }
    @keyframes spin { 0% {transform:rotate(0deg);} 100% {transform:rotate(360deg);} }
    footer { text-align:center; padding:10px; background:#2c3e50; color:white; font-size:0.9rem; }
    canvas { max-width:100%; }
    @media(max-width:768px){ main { flex-direction:column; } .info-panel { border-left:none; border-top:1px solid #ddd; flex:none; height:350px; } }
  </style>
</head>
<body>
<header>Advanced AQI Monitoring Dashboard</header>
<main>
  <div id="map"></div>
  <div class="info-panel">
    <div id="info-content">
      <p>Click on the map or use your location to get AQI data.</p>
      
    </div>
    <canvas id="aqi-chart" height="150"></canvas>
    <div class="legend">
      <div style="background:#2ecc71"></div><span>Good (0-50)</span>
      <div style="background:#f1c40f"></div><span>Moderate (51-100)</span>
      <div style="background:#e67e22"></div><span>Unhealthy for Sensitive (101-150)</span>
      <div style="background:#e74c3c"></div><span>Unhealthy (151-200)</span>
      <div style="background:#8e44ad"></div><span>Very Unhealthy (201-300)</span>
      <div style="background:#7f1d1d"></div><span>Hazardous (301+)</span>
    </div>
  </div>
</main>
<footer>Â© 2025 AQI Project</footer>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>
<script src="main.js"></script>
